
Zuser:
  TAGS:
    - HISTORIZED(daterange)
    - ATTR_LOG
    - CLASS(ApplicationUser)
    - API

  UNIQUE INDEXES:
    u_zuser_name:
      - name
    u_zuser_email:
      - email

  COLUMN_ALIASES:
    username: name
    last_name: lastname
    first_names: firstname
    start_date: startdate

  ATTRIBUTES:
    - name: varchar(64) required unique
    - firstname: varchar(64) required
    - lastname: varchar(64) required
    - email: varchar(64) required unique
    - address: varchar(64)
    - phone: varchar(64)
    - force_change_password: bool
    - internal: bool required
      TAGS:
        - ui_hidden
    - person_id: references D_person(id)
    - external_person_id: references E_external_person(id)
    - status: enum Status
      TAGS:
        - ui_readonly
    - password: varchar(256)
      TAGS:
        - UI_TYPE(password)
        - ui_required

    # - usergroups: tie G_user_group_Zuser

    # - system:
    #   - roles: tie Zuser_Zrole

    # - orgunit_access:
    #   - organizations: tie Zuser_I_org_unit
    #   - external_organizations: tie Zuser_E_ext_org



Person:
  TAGS:
    - HISTORIZED(daterange)
    - SIMULATED
    - ATTR_LOG
    - CLASS(Person)
    - INTERFACE(IPerson)
    - API
    - GLOBAL_CONTEXT
  VIRTUAL ATTRIBUTES:
    - valid: bool
    # - valid2: bool
  ATTRIBUTES:
    - social_security_number: varchar(64) unique
      TAGS:
        - ui_required
    - personnel_no: varchar(20) unique
    - first_name: varchar(64) required
    - middle_name: varchar(64)
    - last_name: varchar(64) required
    - nickname: varchar(64)
    - identity_id: references G_identity(id)
    - permanent: bool required
    - starting_date: date
    - termination_date: date
    - information_checked: bool required
    - email_active: bool

    - user_info:
      - photo: text
        TAGS:
          - MYSQL_TYPE(longtext)
      - username: varchar(64) unique
      - orgunit_id: references I_org_unit(id)
      - email: varchar(64)
      - voice_address: varchar(4)
        TAGS:
          - ui_hidden # deprecated: Never use
      - sv_number: varchar(64)
      - other_address: varchar(256)
      - language_id: references G_language(id)
      - status: enum Status
        TAGS:
        - ui_readonly
      - b_phone: varchar(64)
      - b_mobile: varchar(64)


    - manager_id: references D_person(id)
    - manager_name: varchar(64)
    - manager_email: varchar(64)
    - subst_manager_id: references D_person(id)
    - subst_manager_name: varchar(64)
    - subst_manager_email: varchar(64)
    - substitute_active: bool required
    - exc_location_id: references I_location(id)
    - remote_office: bool required
    - location_info: varchar(64)
    - home_street: varchar(64)
    - home_street2: varchar(64)
    - home_post: varchar(64)
    - home_city: varchar(64)
    - home_state: varchar(64)
    - homecountry_id: references G_country(id)


  UNIQUE INDEXES:
    u_d_person_social_security_number:
      - social_security_number
    u_d_person_personnel_no:
      - personnel_no
    u_d_person_username:
      - username

  INDEXES:
    d_person_first_name:
      - first_name
    d_person_last_name:
      - last_name

  COLUMN_ALIASES:
    personnel_number: personnel_no
    preferred_name: nickname
